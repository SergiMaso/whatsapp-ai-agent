    def save_customer_language(self, phone, language):
        """
        Guardar l'idioma preferit d'un client
        
        IMPORTANT: Si el client no existeix, NO el crea.
        Nom√©s actualitza l'idioma si ja existeix.
        """
        try:
            conn = self.get_connection()
            cursor = conn.cursor()
            
            # Verificar si el client ja existeix
            cursor.execute("SELECT id FROM customers WHERE phone = %s", (phone,))
            existing = cursor.fetchone()
            
            if existing:
                # Client existent: actualitzar idioma
                cursor.execute("""
                    UPDATE customers
                    SET language = %s, last_visit = CURRENT_TIMESTAMP
                    WHERE phone = %s
                """, (language, phone))
                conn.commit()
                print(f"üåç Idioma actualitzat: {phone} ‚Üí {language}")
            else:
                # Client nou: NO crear encara, esperar a tenir el nom
                print(f"üåç Idioma detectat: {language} (no guardat, esperant nom)")
            
            cursor.close()
            conn.close()
        except Exception as e:
            print(f"‚ùå Error guardando idioma: {e}")
